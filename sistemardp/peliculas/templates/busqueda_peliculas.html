{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- Carrusel -->
<div id="carouselExampleCaptions" class="carousel slide">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{% static 'peliculas/img/cartelera.jpg' %}" class="d-block w-100">
            <div class="carousel-caption d-none d-md-block">
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'peliculas/img/estrenos.jpg' %}" class="d-block w-100">
            <div class="carousel-caption d-none d-md-block">
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'peliculas/img/peli.jpg' %}" class="d-block w-100">
            <div class="carousel-caption d-none d-md-block">
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Contenido Principal -->
<div class="container my-5">
    <header class="py-4 text-center">
        <h1>Búsqueda de Películas</h1>
    </header>

    <!-- TOP 10 MÁS VISTAS -->
    <h2 class="my-4">TOP 10 MÁS VISTAS EN MÉXICO</h2>
    <div class="row row-cols-2 row-cols-md-5 g-4">
        {% for pelicula in top_peliculas %}
            <div class="col">
                <div class="card h-100">
                    {% if pelicula.imagen %}
                        <img src="{{ pelicula.imagen.url }}" class="card-img-top" alt="{{ pelicula.titulo }}">
                    {% else %}
                        <img src="{% static 'peliculas/img/default.jpg' %}" class="card-img-top" alt="Imagen no disponible">
                    {% endif %}
                    <div class="card-body">
                        <a href="{% url 'pelicula_id' pelicula.id %}" class="text-decoration-none">{{ pelicula.titulo }}</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <!-- Todas las Películas -->
    <h2 class="my-4">Todas las Películas</h2>
    <div class="row row-cols-2 row-cols-md-5 g-4">
        {% for pelicula in todas_peliculas %}
            <div class="col">
                <div class="card h-100">
                    {% if pelicula.imagen %}
                       
                        <img src="{{ pelicula.imagen.url }}" class="card-img-top" alt="{{ pelicula.titulo }}">
                    {% else %}
                        <img src="{% static 'peliculas/img/default.jpg' %}" class="card-img-top" alt="Imagen no disponible">
                    {% endif %}
                    <div class="card-body">
                        <a href="{% url 'pelicula_id' pelicula.id %}" class="text-decoration-none">{{ pelicula.titulo }}</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

   <!-- PELÍCULAS DE ACCIÓN -->
   <h2 class="my-4">Películas de Acción</h2>
   <div class="row row-cols-2 row-cols-md-5 g-4">
       {% for pelicula in peliculas_accion %}
       <div class="col">
           <div class="card h-100">
               <img src="{{ pelicula.imagen.url }}" class="card-img-top" alt="{{ pelicula.titulo }}">
               <div class="card-body">
                    <a href="{% url 'pelicula_id' pelicula.id %}" class="text-decoration-none">{{ pelicula.titulo }}</a>
               </div>
           </div>
       </div>
       {% endfor %}
   </div>

   <!-- PELÍCULAS INFANTILES -->
   <h2 class="my-4">Películas Infantiles</h2>
   <div class="row row-cols-2 row-cols-md-5 g-4">
       {% for pelicula in peliculas_infantiles %}
       <div class="col">
           <div class="card h-100">
               <img src="{{ pelicula.imagen.url }}" class="card-img-top" alt="{{ pelicula.titulo }}">
               <div class="card-body">
                    <a href="{% url 'pelicula_id' pelicula.id %}" class="text-decoration-none">{{ pelicula.titulo }}</a>
               </div>
           </div>
       </div>
       {% endfor %}
   </div>
</div>

{% endblock %}